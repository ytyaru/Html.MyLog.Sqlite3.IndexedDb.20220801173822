# つぶやきツール

　

<!-- more -->

# つぶやき

* サイト作成ツールを作る技術を身に着けたい
* 技術的興味（DBを扱ってみたい（IndexedDB, SQLite3））
* できるだけ簡単なものを作りたい

## 形式

* つぶやき
    * ニュース形式
    * スレッド形式

### ニュース形式

　最新日時順。

```
なんか一言
日時

なんか一言
日時

なんか一言
日時
```

　話題は問わない。カテゴライズやタギングなどをしてもあまり有用性はなさそう。全文検索できるようにしたほうが嬉しい気がする。

　せめて何のログであるかの分類くらいはしたほうがいいか？　調査、学習、創作（成果物種別（小説、プログラミング））。最終的なゴールである成果物がソースコードだと決まっている場合は「プログラミング」などのカテゴリをつけるとか。

### スレッド形式

　ある特定の話題に限定して話すチャット部屋のようなもの。

```
スレッド一覧

スレタイ１　Close是非　日時〜日時
スレタイ２　Close是非　日時〜日時
スレタイ３　Close是非　日時〜日時
...
```

状態|意味
----|----
Close済|結果が出たログを閲覧する
未Close|前回の続きに追記する

　スレッドの中身。

```
スレタイ
Close是非　作成日時

なんか一言
日時

なんか一言
日時

なんか一言
日時

```

　古い順に表示する。

　ツイッターやZennのスクラップのようなものを作ってみる。ただし簡略化のため自分だけが書き込めるようにする。

* https://twitter.com/
* https://zenn.dev/catnose99/scraps/5b32cfbaba40a313804f

# 頭の中にあるものをアウトプットする

* つぶやき
* 記事
* 本

　つぶやきは話題がとっちらかる。量も少ない。記事はつぶやきにより知見が溜まってきたら書ける。本はさらに特定の話題における記事が溜まったら書ける。

# データベース

## 最小

列|説明
--|----
`id`|識別子
`text`|内容。
`created`|作成日時

## スレッドあり

列|説明
--|----
`id`|スレッドID
`title`|スレッドのタイトル
`created`|スレッドの作成日時
`closed`|スレッドの終了日時

列|説明
--|----
`tid`|スレッドID（複合主キー）
`cid`|コメントID（複合主キー）
`text`|内容。
`created`|作成日時

## スレッドカテゴリあり

列|説明
--|----
`id`|カテゴリID
`name`|カテゴリ名
`description`|カテゴリ説明

列|説明
--|----
`id`|スレッドID
`title`|スレッドのタイトル
`created`|スレッドの作成日時
`closed`|スレッドの終了日時
`cid`|カテゴリID

列|説明
--|----
`tid`|スレッドID（複合主キー）
`id`|コメントID（複合主キー）
`text`|内容。
`created`|作成日時

## 参照

```
>>スレッドID-発言ID
```
```
>>発言ID
```

## 構文

* プレーンテキストのみ
* URLは自動的にリンク化
* 画像URLは自動的にプレビュー
* 音声、動画URLは自動的にプレビュー
* Markdownを許容する
* Wiki記法を許容する
* HTMLを許容する

　とくに参照リンクが重要。

　リスト、テーブル、ソースコード＆ハイライトもほしい。そこまでくると画像も。

## 参照リンク

　たとえば以下のようなリンク用コードを毎回書くのが面倒。そこで、もし`[...][]`が本文やスレッド内のどこにもなかった場合、共用タグとして登録したい。もしそこに存在すれば、それを使ってHTMLとして出力するようにしたい。

```markdown
[sql.js][]

[sql.js]:https://sql.js
```

## IndexedDB

```sql
```


